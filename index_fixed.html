<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ±ğŸ¶ ç™¼ç¾æœ€åƒä½ çš„æ€§æ ¼å‹•ç‰©</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&family=Kalam:wght@300;400;700&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* å¥¶èŒ¶è‰²ç³»é…è‰² */
      --gradient-primary: linear-gradient(135deg, #D2B48C 0%, #BC9A6A 100%);
      --gradient-secondary: linear-gradient(135deg, #F4A7B9 0%, #E8A598 100%);
      --gradient-accent: linear-gradient(135deg, #D4C4A8 0%, #D4C4A8 100%);
      --gradient-warm: linear-gradient(135deg, #F5E6D3 0%, #E8D5B7 100%);
      --bg-color: #FDF6E3;
      --card-bg: rgba(252, 248, 227, 0.9);
      --text-primary: #8B4513;
      --text-secondary: #A0522D;
      --text-accent: #D2691E;
      --border-color: rgba(210, 180, 140, 0.3);
      --shadow-soft: 0 8px 32px rgba(139, 69, 19, 0.1);
      --shadow-hover: 0 15px 35px rgba(139, 69, 19, 0.15);
      --milktea-light: #F7F3E9;
      --milktea-medium: #E6D7C3;
      --milktea-dark: #D2B48C;
      --pink-accent: #F4A7B9;
      --khaki-accent: #C3B091;
      --border-radius: 20px;
      --animation-speed: 0.3s;
    }

    * { 
      box-sizing: border-box; 
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', 'Noto Sans TC', sans-serif;
      background: var(--bg-color);
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(244, 167, 185, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(210, 180, 140, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(195, 176, 145, 0.2) 0%, transparent 50%);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      line-height: 1.6;
    }

    .container {
      width: 100%;
      max-width: 680px;
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-soft);
      padding: 40px 30px;
      position: relative;
      overflow: hidden;
      animation: slideUp 0.8s ease-out;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-primary);
    }

    .container::after {
      content: 'âœ¨';
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.2rem;
      opacity: 0.7;
      animation: sparkle 2s ease-in-out infinite;
    }

    @keyframes sparkle {
      0%, 100% { opacity: 0.7; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }

    .header h1 {
      font-family: 'Caveat', 'Noto Sans TC', cursive;
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 12px;
      letter-spacing: -0.02em;
      position: relative;
    }

    .header h1::after {
      content: 'ï½';
      position: absolute;
      right: -10px;
      top: -5px;
      color: var(--pink-accent);
      font-size: 0.8em;
      opacity: 0.8;
    }

    .header .subtitle {
      font-family: 'Kalam', 'Noto Sans TC', cursive;
      font-size: 1.1rem;
      color: var(--text-secondary);
      font-weight: 400;
      opacity: 0;
      animation: fadeIn 1s ease-out 0.3s forwards;
      position: relative;
    }

    .header .subtitle::before {
      content: 'â™¡';
      margin-right: 8px;
      color: var(--pink-accent);
    }

    .header .subtitle::after {
      content: 'â™¡';
      margin-left: 8px;
      color: var(--pink-accent);
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--milktea-light);
      border-radius: 4px;
      margin-bottom: 30px;
      overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(139, 69, 19, 0.1);
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      width: 0%;
      transition: width 0.5s ease-out;
      border-radius: 4px;
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .question {
      background: var(--milktea-light);
      backdrop-filter: blur(10px);
      border: 2px solid var(--border-color);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: var(--shadow-soft);
      transition: all var(--animation-speed) ease;
      opacity: 0;
      transform: translateY(20px);
      animation: questionSlideIn 0.6s ease-out forwards;
      position: relative;
      overflow: hidden;
    }

    .question::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--gradient-secondary);
      opacity: 0.6;
    }

    .question:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
      border-color: var(--pink-accent);
    }

    @keyframes questionSlideIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .question-number {
      display: inline-block;
      width: 28px;
      height: 28px;
      background: var(--gradient-primary);
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 28px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-right: 12px;
    }

    .question p {
      font-family: 'Kalam', 'Noto Sans TC', cursive;
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .options-grid {
      display: grid;
      gap: 12px;
    }

    .option {
      position: relative;
      background: var(--card-bg);
      border: 2px solid var(--milktea-medium);
      border-radius: 12px;
      padding: 16px 20px;
      cursor: pointer;
      transition: all var(--animation-speed) ease;
      backdrop-filter: blur(5px);
    }

    .option:hover {
      background: var(--milktea-light);
      border-color: var(--pink-accent);
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(244, 167, 185, 0.3);
    }

    .option input[type="radio"] {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .option input[type="radio"]:checked + .option-content {
      background: var(--gradient-secondary);
      color: white;
      border-radius: 8px;
    }

    .option input[type="radio"]:checked + .option-content::before {
      transform: scale(1);
      opacity: 1;
      color: white;
    }

    .option-content {
      position: relative;
      display: flex;
      align-items: center;
      font-family: 'Inter', 'Noto Sans TC', sans-serif;
      font-weight: 500;
      padding-left: 35px;
      transition: all var(--animation-speed) ease;
      border-radius: 8px;
      padding: 12px 16px 12px 45px;
    }

    .option-content::before {
      content: 'â™¡';
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%) scale(0);
      opacity: 0;
      transition: all var(--animation-speed) ease;
      font-weight: bold;
      color: var(--pink-accent);
    }

    .submit-button {
      width: 100%;
      padding: 16px 0;
      background: var(--gradient-primary);
      border: none;
      border-radius: 16px;
      font-family: 'Kalam', 'Noto Sans TC', cursive;
      font-size: 1.2rem;
      font-weight: 600;
      color: white;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      transition: all var(--animation-speed) ease;
      margin-top: 20px;
      position: relative;
      overflow: hidden;
    }

    .submit-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .submit-button:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: var(--shadow-hover);
    }

    .submit-button:hover::before {
      left: 100%;
    }

    .submit-button:disabled {
      background: var(--khaki-accent);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
      opacity: 0.7;
    }

    .result {
      margin-top: 30px;
      padding: 30px;
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-soft);
      opacity: 0;
      animation: resultFadeIn 0.8s ease-out forwards;
    }

    @keyframes resultFadeIn {
      to {
        opacity: 1;
      }
    }

    .result h2 {
      font-family: 'Caveat', 'Noto Sans TC', cursive;
      font-size: 2rem;
      font-weight: 700;
      background: var(--gradient-secondary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
      text-align: center;
      position: relative;
    }

    .result h2::before {
      content: 'âœ§';
      position: absolute;
      left: -40px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--pink-accent);
      font-size: 1.5rem;
      animation: twinkle 2s ease-in-out infinite;
    }

    .result h2::after {
      content: 'âœ§';
      position: absolute;
      right: -40px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--pink-accent);
      font-size: 1.5rem;
      animation: twinkle 2s ease-in-out infinite 0.5s;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.6; transform: translateY(-50%) scale(0.8); }
      50% { opacity: 1; transform: translateY(-50%) scale(1.2); }
    }

    .result-pet {
      text-align: center;
      font-size: 3rem;
      margin: 20px 0;
    }

    .result-desc {
      font-family: 'Kalam', 'Noto Sans TC', cursive;
      font-size: 1.1rem;
      line-height: 1.8;
      color: var(--text-secondary);
      text-align: center;
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .container {
        padding: 30px 20px;
        margin: 10px;
      }
      
      .question {
        padding: 20px;
      }
      
      .option-content {
        padding: 10px 12px 10px 40px;
        font-size: 0.95rem;
      }

      .result h2::before,
      .result h2::after {
        display: none;
      }

      .header h1::after {
        right: -5px;
        font-size: 0.6em;
      }
    }

    /* éŸ³æ•ˆå’Œå›é¥‹æ•ˆæœ */
    .option.clicked {
      animation: pulse 0.3s ease-out;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .submit-button.clicked {
      animation: buttonPress 0.4s ease-out;
    }

    @keyframes buttonPress {
      0% { transform: translateY(-2px) scale(1.02); }
      50% { transform: translateY(2px) scale(0.98); }
      100% { transform: translateY(-2px) scale(1.02); }
    }

    .question.answered {
      border-color: var(--pink-accent);
      box-shadow: 0 0 20px rgba(244, 167, 185, 0.4);
    }

    .floating-hearts {
      position: absolute;
      pointer-events: none;
      color: var(--pink-accent);
      font-size: 1.5rem;
      animation: floatUp 2s ease-out forwards;
    }

    @keyframes floatUp {
      0% { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
      100% { 
        opacity: 0; 
        transform: translateY(-50px) scale(0.5); 
      }
    }

    .progress-celebration {
      position: relative;
      overflow: visible;
    }

    .progress-celebration::after {
      content: 'ğŸ‰';
      position: absolute;
      top: -30px;
      right: 0;
      font-size: 1.5rem;
      opacity: 0;
      animation: celebrate 0.8s ease-out;
    }

    @keyframes celebrate {
      0% { opacity: 0; transform: translateY(10px) scale(0.5); }
      50% { opacity: 1; transform: translateY(-10px) scale(1.2); }
      100% { opacity: 0; transform: translateY(-20px) scale(0.8); }
    }

    .result-entrance {
      animation: resultEntrance 1s ease-out;
    }

    @keyframes resultEntrance {
      0% { 
        opacity: 0; 
        transform: translateY(50px) scale(0.8); 
      }
      50% { 
        opacity: 0.8; 
        transform: translateY(-10px) scale(1.05); 
      }
      100% { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }

    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% {
        transform: translate(0, 0);
      }
      40%, 43% {
        transform: translate(0, -15px);
      }
      70% {
        transform: translate(0, -7px);
      }
      90% {
        transform: translate(0, -3px);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ±ğŸ¶ ç™¼ç¾æœ€åƒä½ çš„æ€§æ ¼å‹•ç‰©</h1>
      <p class="subtitle">é€é MBTI æ€§æ ¼æ¸¬é©—ï¼Œæ‰¾åˆ°å’Œä½ æœ€ç›¸ä¼¼çš„è²“è²“æˆ–ç‹—ç‹—</p>
    </div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <form id="quizForm">
      <div class="question" style="animation-delay: 0.1s">
        <p><span class="question-number">1</span>ä½ é€šå¸¸åœ¨èšæœƒä¸­æœƒæ€éº¼åšï¼Ÿ</p>
        <div class="options-grid">
          <label class="option">
            <input type="radio" name="q1" value="E">
            <div class="option-content">ğŸ‰ å–œæ­¡å’Œæœ‹å‹äº’å‹•ï¼Œäº«å—ç†±é¬§æ°›åœ</div>
          </label>
          <label class="option">
            <input type="radio" name="q1" value="I">
            <div class="option-content">ğŸ¤” å–œæ­¡ç¨è‡ªæ€è€ƒï¼Œè§€å¯Ÿå‘¨åœç’°å¢ƒ</div>
          </label>
        </div>
      </div>

      <div class="question" style="animation-delay: 0.2s">
        <p><span class="question-number">2</span>ä½ åœ¨åšæ±ºç­–æ™‚è¼ƒå‚¾å‘ï¼š</p>
        <div class="options-grid">
          <label class="option">
            <input type="radio" name="q2" value="S">
            <div class="option-content">ğŸ“Š æ³¨é‡å¯¦éš›ç´°ç¯€å’Œå…·é«”äº‹å¯¦</div>
          </label>
          <label class="option">
            <input type="radio" name="q2" value="N">
            <div class="option-content">ğŸ’­ æ†‘ç›´è¦ºå’Œæƒ³åƒåŠ›æ€è€ƒ</div>
          </label>
        </div>
      </div>

      <div class="question" style="animation-delay: 0.3s">
        <p><span class="question-number">3</span>ä½ åšæ±ºå®šæ™‚è¼ƒçœ‹é‡ï¼š</p>
        <div class="options-grid">
          <label class="option">
            <input type="radio" name="q3" value="T">
            <div class="option-content">ğŸ§  é‚è¼¯åˆ†æèˆ‡å®¢è§€åˆ¤æ–·</div>
          </label>
          <label class="option">
            <input type="radio" name="q3" value="F">
            <div class="option-content">â¤ï¸ æƒ…æ„Ÿè€ƒé‡èˆ‡åƒ¹å€¼è§€å¿µ</div>
          </label>
        </div>
      </div>

      <div class="question" style="animation-delay: 0.4s">
        <p><span class="question-number">4</span>ä½ åå¥½çš„ç”Ÿæ´»æ–¹å¼ï¼š</p>
        <div class="options-grid">
          <label class="option">
            <input type="radio" name="q4" value="J">
            <div class="option-content">ğŸ“… è¨ˆç•«æœ‰åºï¼Œå–œæ­¡ç¢ºå®šæ€§</div>
          </label>
          <label class="option">
            <input type="radio" name="q4" value="P">
            <div class="option-content">ğŸ­ éš¨æ€§å½ˆæ€§ï¼Œä¿æŒé–‹æ”¾æ…‹åº¦</div>
          </label>
        </div>
      </div>

      <div class="question" style="animation-delay: 0.5s">
        <p><span class="question-number">5</span>ä»¥ä¸‹å“ªå€‹å…ƒç´ æœ€ç¬¦åˆä½ çš„æ€§æ ¼ï¼Ÿ</p>
        <div class="options-grid">
          <label class="option">
            <input type="radio" name="q5" value="fire">
            <div class="option-content">ğŸ”¥ ç«è±¡ - ç†±æƒ…æ´»åŠ›ï¼Œå……æ»¿èƒ½é‡</div>
          </label>
          <label class="option">
            <input type="radio" name="q5" value="earth">
            <div class="option-content">ğŸŒ åœŸè±¡ - ç©©é‡è¸å¯¦ï¼Œæ³¨é‡å®‰å…¨</div>
          </label>
          <label class="option">
            <input type="radio" name="q5" value="air">
            <div class="option-content">ğŸ’¨ é¢¨è±¡ - éˆæ´»è®Šé€šï¼Œæ€ç¶­æ•æ·</div>
          </label>
          <label class="option">
            <input type="radio" name="q5" value="water">
            <div class="option-content">ğŸ’§ æ°´è±¡ - æ„Ÿæ€§ç´°è†©ï¼Œæƒ…æ„Ÿè±å¯Œ</div>
          </label>
        </div>
      </div>

      <button type="button" class="submit-button" id="submitBtn" disabled>
        <span id="btnText">è«‹å®Œæˆæ‰€æœ‰é¡Œç›®</span>
      </button>
    </form>

    <div id="result" class="result" style="display: none;"></div>
  </div>

  <script>
    // éŸ³æ•ˆç³»çµ±
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    function playSound(frequency, duration, type = 'sine') {
      try {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
        oscillator.type = type;
        
        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + duration);
      } catch (e) {
        console.log('Audio not supported');
      }
    }

    function playClickSound() {
      playSound(800, 0.1, 'sine');
    }

    function playSuccessSound() {
      playSound(523, 0.2, 'sine'); // C5
      setTimeout(() => playSound(659, 0.2, 'sine'), 100); // E5
      setTimeout(() => playSound(784, 0.3, 'sine'), 200); // G5
    }

    function playCompletionSound() {
      const notes = [261, 329, 392, 523]; // C-E-G-C chord
      notes.forEach((note, index) => {
        setTimeout(() => playSound(note, 0.5, 'sine'), index * 100);
      });
    }

    // UI å›é¥‹æ•ˆæœ
    function createFloatingHearts(element) {
      for (let i = 0; i < 3; i++) {
        const heart = document.createElement('div');
        heart.className = 'floating-hearts';
        heart.textContent = 'â™¡';
        heart.style.left = Math.random() * 50 + 'px';
        heart.style.animationDelay = i * 0.2 + 's';
        element.style.position = 'relative';
        element.appendChild(heart);
        
        setTimeout(() => heart.remove(), 2000);
      }
    }

    function addProgressCelebration() {
      const progressBar = document.querySelector('.progress-bar');
      progressBar.classList.add('progress-celebration');
      setTimeout(() => {
        progressBar.classList.remove('progress-celebration');
      }, 800);
    }

    // é€²åº¦æ¢æ›´æ–°å’Œè¡¨å–®é©—è­‰
    const form = document.getElementById('quizForm');
    const progressFill = document.getElementById('progressFill');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const totalQuestions = 5;

    function updateProgress() {
      const answeredQuestions = form.querySelectorAll('input[type="radio"]:checked').length;
      const progress = (answeredQuestions / totalQuestions) * 100;
      
      // å¹³æ»‘å‹•ç•«æ›´æ–°é€²åº¦æ¢
      progressFill.style.width = progress + '%';
      
      // å¦‚æœæœ‰é€²æ­¥ï¼Œæ’­æ”¾éŸ³æ•ˆå’Œå‹•ç•«
      if (progress > 0) {
        playClickSound();
        if (progress === 100) {
          addProgressCelebration();
          playCompletionSound();
        }
      }
      
      if (answeredQuestions === totalQuestions) {
        submitBtn.disabled = false;
        submitBtn.style.background = 'var(--gradient-primary)';
        btnText.textContent = 'âœ¨ æŸ¥çœ‹æœ€åƒæˆ‘çš„æ€§æ ¼å‹•ç‰©';
        
        // æŒ‰éˆ•æº–å‚™å¥½çš„è¦–è¦ºæ•ˆæœ
        submitBtn.style.animation = 'pulse 1s ease-in-out infinite';
      } else {
        submitBtn.disabled = true;
        submitBtn.style.background = 'var(--khaki-accent)';
        submitBtn.style.animation = 'none';
        btnText.textContent = `é‚„éœ€å›ç­” ${totalQuestions - answeredQuestions} å€‹å•é¡Œ â™¡`;
      }
    }

    // ç‚ºæ‰€æœ‰ radio æŒ‰éˆ•æ·»åŠ å¢å¼·çš„äº‹ä»¶ç›£è½å™¨
    form.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', function() {
        updateProgress();
        
        // æ·»åŠ è¦–è¦ºå›é¥‹
        const option = this.closest('.option');
        const question = this.closest('.question');
        
        option.classList.add('clicked');
        question.classList.add('answered');
        
        // å‰µå»ºæµ®å‹•æ„›å¿ƒæ•ˆæœ
        createFloatingHearts(option);
        
        setTimeout(() => {
          option.classList.remove('clicked');
        }, 300);
      });

      // æ·»åŠ æ‡¸åœéŸ³æ•ˆ
      radio.closest('.option').addEventListener('mouseenter', function() {
        if (!this.querySelector('input').checked) {
          playSound(400, 0.05, 'sine');
        }
      });
    });

    // å¢å¼·çš„æäº¤æŒ‰éˆ•äº‹ä»¶
    document.getElementById('submitBtn').addEventListener('click', function() {
      if (!this.disabled) {
        this.classList.add('clicked');
        playSuccessSound();
        setTimeout(() => {
          this.classList.remove('clicked');
          showResult();
        }, 400);
      }
    });

    // æ¸¬é©—çµæœå°æ‡‰è¡¨
    const quizMapping = {
      ISTJ: {
        fire: {pet: 'è‹±åœ‹çŸ­æ¯›è²“ British Shorthair', desc: 'ç©©é‡å»å¶çˆ¾ç†±æƒ…ï¼Œçµ¦ä½ å®‰å…¨æ„Ÿçš„å®ˆè­·è€…', emoji: 'ğŸ±'},
        earth: {pet: 'è˜‡æ ¼è˜­æ‘ºè€³è²“ Scottish Fold', desc: 'å®‰éœä¹–å·§ï¼Œæ˜¯ç©©å®šç”Ÿæ´»çš„æœ€ä½³å¤¥ä¼´', emoji: 'ğŸ±'},
        air: {pet: 'ç¾åœ‹çŸ­æ¯›è²“ American Shorthair', desc: 'ç†æ€§ä¸­å¸¶é»éˆæ´»ï¼Œèƒ½è¼•é¬†æ‡‰å°è®ŠåŒ–', emoji: 'ğŸ±'},
        water: {pet: 'å–œé¦¬æ‹‰é›…è²“ Himalayan', desc: 'å…§æ–‚æº«å’Œï¼Œé»˜é»˜å®ˆè­·ä½ ', emoji: 'ğŸ±'}
      },
      ISFJ: {
        fire: {pet: 'å¸ƒå¶è²“ Ragdoll', desc: 'ç†±æƒ…åˆè¦ªäººï¼Œæ˜¯æœ€æº«æš–çš„æ²»ç™’ç³»å¤¥ä¼´', emoji: 'ğŸ±'},
        earth: {pet: 'æ³¢æ–¯è²“ Persian', desc: 'é«˜é›…å®‰éœï¼Œå°ä½ å¿ èª ä¸æ¸', emoji: 'ğŸ±'},
        air: {pet: 'æš¹ç¾…è²“ Siamese', desc: 'æ©Ÿæ™ºè²¼å¿ƒï¼Œç¸½åœ¨èº«é‚Šé»˜é»˜å®ˆè­·', emoji: 'ğŸ±'},
        water: {pet: 'ç·¬å› è²“ Maine Coon', desc: 'å·¨å¤§å»æº«æŸ”ï¼Œçµ¦ä½ æ»¿æ»¿å®‰å…¨æ„Ÿ', emoji: 'ğŸ±'}
      },
      INFJ: {
        fire: {pet: 'é˜¿æ¯”è¥¿å°¼äºè²“ Abyssinian', desc: 'ç†±æƒ…ä¸”æœ‰é ˜å°æ°£è³ªï¼Œå…§å¿ƒå»æµªæ¼«æ·±æƒ…', emoji: 'ğŸ±'},
        earth: {pet: 'ä¿„ç¾…æ–¯è—è²“ Russian Blue', desc: 'å„ªé›…ç¥ç§˜ï¼Œæ˜¯å…§æ–‚çš„ç†æƒ³ä¸»ç¾©è€…', emoji: 'ğŸ±'},
        air: {pet: 'æš¹ç¾…è²“ Siamese', desc: 'å‰µæ„ç„¡é™ï¼Œç¸½æœ‰å‡ºå…¶ä¸æ„çš„é»å­', emoji: 'ğŸ±'},
        water: {pet: 'ç·¬ç”¸è²“ Burmese', desc: 'æ„Ÿæƒ…è±å¯Œï¼Œæº«æŸ”ç´°è†©ï¼Œå–œæ­¡æ·±åº¦é€£çµ', emoji: 'ğŸ±'}
      },
      INTJ: {
        fire: {pet: 'å­ŸåŠ æ‹‰è²“ Bengal', desc: 'é‡æ€§åè¶³ï¼Œå»æš—è—ç­–ç•¥ï¼Œæ˜¯å†’éšªå®¶å‹æ€è€ƒè€…', emoji: 'ğŸ±'},
        earth: {pet: 'ç•°åœ‹çŸ­æ¯›è²“ Exotic Shorthair', desc: 'ç©©é‡è°æ…§ï¼Œå†·éœè¨ˆç•«å‹äººæ ¼', emoji: 'ğŸ±'},
        air: {pet: 'æš¹ç¾…è²“ Siamese', desc: 'å°å·§éˆæ´»ï¼Œæ“…é•·ç­–ç•¥ï¼ŒæŒæ¡å…¨å±€', emoji: 'ğŸ±'},
        water: {pet: 'æ–¯èŠ¬å…‹æ–¯è²“ Sphynx', desc: 'ç¥ç§˜å†·é…·ï¼Œå»å°è¦ªè¿‘çš„äººå±•ç¾æŸ”æƒ…', emoji: 'ğŸ±'}
      },
      ISTP: {
        fire: {pet: 'å­ŸåŠ æ‹‰è²“ Bengal', desc: 'ç²¾åŠ›æ—ºç››ï¼Œç†±æ„›æŒ‘æˆ°ï¼Œç¸½åœ¨è¡Œå‹•ä¸­æˆé•·', emoji: 'ğŸ±'},
        earth: {pet: 'æ—¥æœ¬çŸ­å°¾è²“ Japanese Bobtail', desc: 'éˆæ´»åˆç©©å®šï¼Œç†±æ„›è‡ªç”±å»ä¸å¤±è¦å¾‹', emoji: 'ğŸ±'},
        air: {pet: 'ç¾åœ‹çŸ­æ¯›è²“ American Shorthair', desc: 'åæ‡‰æ•æ·ï¼Œæ“…é•·ç”¨å‰µæ„è§£æ±ºå•é¡Œ', emoji: 'ğŸ±'},
        water: {pet: 'æš¹ç¾…è²“ Siamese', desc: 'æ„Ÿæ€§ä¸­å¸¶å†’éšªï¼Œé¡˜æ„é™ªä¼´ä¸¦æ¢ç´¢ä¸–ç•Œ', emoji: 'ğŸ±'}
      },
      ISFP: {
        fire: {pet: 'ç´…è™æ–‘è²“ Red Tabby', desc: 'ç†±æƒ…è—è¡“å®¶ï¼Œç¸½èƒ½è®“ç”Ÿæ´»å……æ»¿è‰²å½©', emoji: 'ğŸ±'},
        earth: {pet: 'æŒªå¨æ£®æ—è²“ Norwegian Forest Cat', desc: 'å…¸é›…åˆç†±æ„›è‡ªç„¶ï¼Œåƒæ£®æ—è©©äººèˆ¬è‡ªç”±', emoji: 'ğŸ±'},
        air: {pet: 'ç¾åœ‹çŸ­æ¯›è²“ American Shorthair', desc: 'è‡ªç”±éˆé­‚ï¼Œæ“æœ‰è°æ˜çš„å°è…¦è¢‹', emoji: 'ğŸ±'},
        water: {pet: 'å¸ƒå¶è²“ Ragdoll', desc: 'æŸ”æƒ…ä¼¼æ°´ï¼Œç¸½èƒ½çµ¦äºˆå®‰å¿ƒèˆ‡æº«æš–', emoji: 'ğŸ±'}
      },
      INFP: {
        fire: {pet: 'ç¾åœ‹çŸ­æ¯›è²“ American Shorthair', desc: 'æµªæ¼«ç†æƒ³å®¶ï¼Œå»åˆç†±æƒ…ï¼Œåƒç«ç„°èˆ¬æº«æš–', emoji: 'ğŸ±'},
        earth: {pet: 'å¸ƒå¶è²“ Ragdoll', desc: 'ç´”çœŸæº«æŸ”ï¼Œçµ¦äººæœ€è¸å¯¦çš„é™ªä¼´', emoji: 'ğŸ±'},
        air: {pet: 'åº·æ²ƒçˆ¾é›·å…‹æ–¯è²“ Cornish Rex', desc: 'è—è¡“éˆé­‚ï¼Œè…¦è¢‹è£¡å……æ»¿å¥‡å¦™é»å­', emoji: 'ğŸ±'},
        water: {pet: 'å–œé¦¬æ‹‰é›…è²“ Himalayan', desc: 'æƒ…æ„Ÿè±å¯Œï¼Œæœ€æ‡‚å¿ƒéˆæ·±è™•çš„å¤¢æƒ³å®¶', emoji: 'ğŸ±'}
      },
      INTP: {
        fire: {pet: 'é˜¿æ¯”è¥¿å°¼äºè²“ Abyssinian', desc: 'è°æ˜æ´»æ½‘ï¼Œç¸½æœ‰æ–°å¥‡å‰µæ„ï¼Œå……æ»¿å†’éšªç²¾ç¥', emoji: 'ğŸ±'},
        earth: {pet: 'è‹±åœ‹çŸ­æ¯›è²“ British Shorthair', desc: 'å†·éœç†æ™ºï¼Œæ˜¯åˆ†æèˆ‡ç©©å®šä¸¦å­˜çš„å®Œç¾å…¸ç¯„', emoji: 'ğŸ±'},
        air: {pet: 'æš¹ç¾…è²“ Siamese', desc: 'è°æ˜ä¼¶ä¿ï¼Œè§€å¯ŸåŠ›è¶…ç¾¤ï¼Œåƒå°ç§‘å­¸å®¶ä¸€æ¨£å¥½å¥‡å¿ƒçˆ†æ£š', emoji: 'ğŸ±'},
        water: {pet: 'ä¿„ç¾…æ–¯è—è²“ Russian Blue', desc: 'è¡¨é¢å†·é…·ï¼Œå…§å¿ƒæŸ”æƒ…ï¼Œæ„Ÿæ€§èˆ‡ç†æ€§å…¼å…·', emoji: 'ğŸ±'}
      },
      ESTJ: {
        fire: {pet: 'å¾·åœ‹ç‰§ç¾ŠçŠ¬ German Shepherd', desc: 'è°æ˜ä¸”æœå¾ï¼Œå¤©ç”Ÿçš„é ˜å°è€…ï¼Œä¿è­·æ…¾å¼·', emoji: 'ğŸ•'},
        earth: {pet: 'æ‹‰å¸ƒæ‹‰å¤š Labrador Retriever', desc: 'å¿ èª ç©©é‡ï¼Œæ˜¯æœ€å€¼å¾—ä¿¡ä»»çš„å¤¥ä¼´', emoji: 'ğŸ•'},
        air: {pet: 'æœè³“çŠ¬ Doberman Pinscher', desc: 'åæ‡‰æ•æ·ã€æ²‰è‘—å†·éœï¼Œæ˜¯ç­–ç•¥å‹å®ˆè­·è€…', emoji: 'ğŸ•'},
        water: {pet: 'ç§‹ç”°çŠ¬ Akita Inu', desc: 'å…§æ–‚å¿ å¿ƒï¼Œä¿è­·æ…¾æ¥µå¼·ï¼Œæ˜¯æ²‰ç©©çš„å®ˆè­·è€…', emoji: 'ğŸ•'}
      },
      ESFJ: {
        fire: {pet: 'é»ƒé‡‘çµçŠ¬ Golden Retriever', desc: 'ç†±æƒ…å‹å–„ï¼Œå¸¶çµ¦ä½ æ»¿æ»¿é™½å…‰èˆ‡æ­£èƒ½é‡', emoji: 'ğŸ•'},
        earth: {pet: 'è–ä¼¯ç´çŠ¬ Saint Bernard', desc: 'å·¨å¤§å»æº«æŸ”ï¼Œå¤©ç„¶çš„å®ˆè­·å¤©ä½¿ï¼Œè®“ä½ å®‰å¿ƒ', emoji: 'ğŸ•'},
        air: {pet: 'å¯å¡çŠ¬ Cocker Spaniel', desc: 'é–‹æœ—æ„›ç©ï¼Œå–œæ­¡äº’å‹•ï¼Œæ˜¯å¿«æ¨‚å°å¹«æ‰‹', emoji: 'ğŸ•'},
        water: {pet: 'å¡ç“¦åˆ©ç‹æŸ¥ç†çµçŠ¬ Cavalier King Charles Spaniel', desc: 'æ„Ÿæƒ…è±å¯Œï¼Œæœ€æ„›çª©åœ¨ä½ æ‡·è£¡ï¼Œæ˜¯æº«æŸ”é»äººçš„ä¼´ä¾¶', emoji: 'ğŸ•'}
      },
      ENFJ: {
        fire: {pet: 'é‚Šå¢ƒç‰§ç¾ŠçŠ¬ Border Collie', desc: 'è°æ˜ç†±æƒ…ï¼Œæ“…é•·å¸¶é ˜ç¾¤é«”ï¼Œæ´»åŠ›æ»¿æ»¿', emoji: 'ğŸ•'},
        earth: {pet: 'ä¼¯æ©å±±çŠ¬ Bernese Mountain Dog', desc: 'æº«æŸ”å¯é ï¼Œå¤©ç„¶çš„å®ˆè­·è€…ï¼Œæœ€æœ‰å®‰å…¨æ„Ÿ', emoji: 'ğŸ•'},
        air: {pet: 'è–©æ‘©è€¶ Samoyed', desc: 'å¾®ç¬‘å¤©ä½¿ï¼Œæ¨‚è§€æ´»æ½‘ï¼Œå‚³éå¿«æ¨‚èƒ½é‡', emoji: 'ğŸ•'},
        water: {pet: 'æ„›çˆ¾è˜­é›ªé”çŠ¬ Irish Setter', desc: 'æƒ…æ„Ÿç´°è†©ï¼Œæµªæ¼«æº«æŸ”ï¼Œç†±æ„›æ·±åº¦é€£çµ', emoji: 'ğŸ•'}
      },
      ENTJ: {
        fire: {pet: 'ç¾…å¨ç´çŠ¬ Rottweiler', desc: 'å¼·å‹¢é ˜å°ï¼Œä¿è­·æ…¾å¼·ï¼Œæ˜¯å¤©ç”Ÿçš„ç‹è€…', emoji: 'ğŸ•'},
        earth: {pet: 'å¤§ä¸¹çŠ¬ Great Dane', desc: 'é«˜è²´ç©©é‡ï¼Œæ°£å ´å¼·å¤§ï¼Œæ˜¯é ˜è¢–å‹å®ˆè­·è€…', emoji: 'ğŸ•'},
        air: {pet: 'å¨ç‘ªçµçŠ¬ Weimaraner', desc: 'è°æ˜æ•æ·ï¼Œç­–ç•¥æ€ç¶­ï¼Œæ˜¯å®Œç¾çš„åŸ·è¡Œè€…', emoji: 'ğŸ•'},
        water: {pet: 'ç´èŠ¬è˜­çŠ¬ Newfoundland', desc: 'æº«å’Œå·¨äººï¼Œæƒ…æ„Ÿè±å¯Œï¼Œå…¼å…·åŠ›é‡èˆ‡æº«æŸ”', emoji: 'ğŸ•'}
      },
      ESTP: {
        fire: {pet: 'å‚‘å…‹ç¾…ç´ ã¹´ Jack Russell Terrier', desc: 'æ´»åŠ›å……æ²›ï¼Œå–œæ­¡å†’éšªï¼Œæ˜¯æœ€ä½³é‹å‹•å¤¥ä¼´', emoji: 'ğŸ•'},
        earth: {pet: 'é¬¥ç‰›çŠ¬ Bulldog', desc: 'å …éŸŒç©©é‡ï¼Œè…³è¸å¯¦åœ°ï¼Œæ˜¯å¯é çš„é™ªä¼´è€…', emoji: 'ğŸ•'},
        air: {pet: 'æ¯”æ ¼çŠ¬ Beagle', desc: 'å¥½å¥‡å¿ƒæ—ºç››ï¼Œæ©Ÿæ™ºéˆæ´»ï¼Œç¸½èƒ½å¸¶ä¾†é©šå–œ', emoji: 'ğŸ•'},
        water: {pet: 'æ‹‰å¸ƒæ‹‰å¤š Labrador Retriever', desc: 'æº«æš–è¦ªå’Œï¼Œæƒ…æ„Ÿè±å¯Œï¼Œæ˜¯æœ€ä½³ç™‚ç™’å¤¥ä¼´', emoji: 'ğŸ•'}
      },
      ESFP: {
        fire: {pet: 'æŸ¯åŸºçŠ¬ Corgi', desc: 'é–‹æœ—æ´»æ½‘ï¼Œç¸½æ˜¯å¸¶ä¾†æ­¡æ¨‚å’Œæ­£èƒ½é‡', emoji: 'ğŸ•'},
        earth: {pet: 'æ³•åœ‹é¬¥ç‰›çŠ¬ French Bulldog', desc: 'å¯æ„›ç©©é‡ï¼Œæ˜¯ç”Ÿæ´»ä¸­çš„å°ç¢ºå¹¸', emoji: 'ğŸ•'},
        air: {pet: 'åšç¾çŠ¬ Pomeranian', desc: 'æ©Ÿéˆå¯æ„›ï¼Œå……æ»¿å‰µæ„ï¼Œæ˜¯ç¤¾äº¤å°å¤©ä½¿', emoji: 'ğŸ•'},
        water: {pet: 'æŸ¥ç†ç‹çµçŠ¬ Cavalier King Charles Spaniel', desc: 'æº«æŸ”æ„Ÿæ€§ï¼Œæƒ…æ„Ÿç´°è†©ï¼Œæœ€æ‡‚ä½ çš„å¿ƒ', emoji: 'ğŸ•'}
      },
      ENFP: {
        fire: {pet: 'æ¾³æ´²ç‰§ç¾ŠçŠ¬ Australian Shepherd', desc: 'ç†±æƒ…å‰µæ–°ï¼Œå……æ»¿æƒ³åƒåŠ›ï¼Œæ˜¯å¤¢æƒ³å¯¦è¸è€…', emoji: 'ğŸ•'},
        earth: {pet: 'é»ƒé‡‘çµçŠ¬ Golden Retriever', desc: 'æº«æš–å¯é ï¼Œçµ¦äººå®‰å…¨æ„Ÿï¼Œæ˜¯ç†æƒ³ä¸»ç¾©çš„å®ˆè­·è€…', emoji: 'ğŸ•'},
        air: {pet: 'é‚Šå¢ƒç‰§ç¾ŠçŠ¬ Border Collie', desc: 'è°æ˜éˆæ´»ï¼Œå‰µæ„ç„¡é™ï¼Œæ˜¯é»å­ç‹', emoji: 'ğŸ•'},
        water: {pet: 'æ„›çˆ¾è˜­é›ªé”çŠ¬ Irish Setter', desc: 'æµªæ¼«æ„Ÿæ€§ï¼Œæƒ…æ„Ÿè±å¯Œï¼Œæ˜¯å¿ƒéˆç›¸é€šçš„å¤¥ä¼´', emoji: 'ğŸ•'}
      },
      ENTP: {
        fire: {pet: 'å‚‘å…‹ç¾…ç´ ã¹´ Jack Russell Terrier', desc: 'ç²¾åŠ›æ—ºç››ï¼Œå‰µæ–°æ€ç¶­ï¼Œç¸½æœ‰æ–°é»å­', emoji: 'ğŸ•'},
        earth: {pet: 'é‚Šå¢ƒç‰§ç¾ŠçŠ¬ Border Collie', desc: 'è°æ˜ç©©é‡ï¼Œæ“…é•·åˆ†æï¼Œæ˜¯ç­–ç•¥å¤§å¸«', emoji: 'ğŸ•'},
        air: {pet: 'æ¯”æ ¼çŠ¬ Beagle', desc: 'å¥½å¥‡å¿ƒå¼·ï¼Œæ©Ÿæ™ºå¹½é»˜ï¼Œæ˜¯å¤©ç”Ÿçš„æ¢éšªå®¶', emoji: 'ğŸ•'},
        water: {pet: 'è–©æ‘©è€¶ Samoyed', desc: 'æº«æš–è¦ªå’Œï¼Œæƒ…æ„Ÿè±å¯Œï¼Œæ“…é•·äººéš›äº¤å¾€', emoji: 'ğŸ•'}
      }
    };

    function showResult() {
      const formData = new FormData(form);
      const mbti = formData.get('q1') + formData.get('q2') + formData.get('q3') + formData.get('q4');
      const element = formData.get('q5');
      
      const result = quizMapping[mbti][element];
      const resultDiv = document.getElementById('result');
      
      // æ’­æ”¾çµæœæ­æ›‰éŸ³æ•ˆ
      setTimeout(() => playCompletionSound(), 200);
      
      resultDiv.innerHTML = `
        <div style="text-align: center; margin-bottom: 20px;">
          <div class="result-pet" style="animation: bounce 1s ease-out;">${result.emoji}</div>
          <h2>æœ€åƒä½ çš„æ€§æ ¼å‹•ç‰©æ˜¯</h2>
          <h3 style="font-family: 'Caveat', 'Noto Sans TC', cursive; font-size: 1.8rem; margin: 16px 0; color: var(--text-primary);">${result.pet}</h3>
        </div>
        <div class="result-desc">
          <p style="font-size: 1.3rem; margin-bottom: 20px; line-height: 1.6;">${result.desc}</p>
          <div style="background: var(--gradient-accent); padding: 20px; border-radius: 12px; color: var(--text-primary); text-align: center; margin-top: 20px; box-shadow: var(--shadow-soft);">
            <strong style="font-family: 'Kalam', 'Noto Sans TC', cursive; font-size: 1.2rem;">âœ¨ ä½ çš„ MBTI é¡å‹ï¼š${mbti} âœ¨</strong>
          </div>
        </div>
      `;
      
      resultDiv.style.display = 'block';
      resultDiv.classList.add('result-entrance');
      
      // å‰µå»ºæ…¶ç¥æ•ˆæœ
      setTimeout(() => {
        createFloatingHearts(resultDiv);
      }, 500);
      
      resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // åˆå§‹åŒ–éŸ³é »ä¸Šä¸‹æ–‡ï¼ˆéœ€è¦ç”¨æˆ¶äº¤äº’ï¼‰
    document.addEventListener('click', function initAudio() {
      if (audioContext.state === 'suspended') {
        audioContext.resume();
      }
      document.removeEventListener('click', initAudio);
    }, { once: true });
  </script>
</body>
</html>
